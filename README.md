# Работа с сервисом bit.ly

Программа работы с API сервиса сжатия(укорачивания) ссылок [https://bitly.com](https://bitly.com/a/sign_up)

## Окружение

Python должен быть установлен.

### Зависимости

Используйте pip для установки зависимостей:

```bash
pip install -r requirements.txt
```

## Запуск

- Скачайте код: [https://github.com/evgeniya35/bitly_lesson2.git](https://github.com/evgeniya35/bitly_lesson2.git)
- Запустите программу командой:
```bash
python main.py
```
- Введите в консоль адрес ссылки.

### Как работает

Пользователю необходимо зарегистрироваться на сайте и получить персональный токен. Токен поместить в файл `.env`. Программа `main.py` запрашивает у пользователя адрес ссылки. Анализирует введенную ссылку. В зависимости от введенной ссылки, трансформирует ссылку в сокращённую `bit.ly` ссылку или выводит количество переходов по `bit.ly` ссылке.

## Особенности работы

`main.py` содержит функции:

* Функция `def is_bitlink(url)` - Проверяет адрес ссылки на содержание домена `bit.ly`. 
* Функция `is_bitlink_api(token, parsed)` - Проверяет через API `bit.ly` ссылку. 
* Функция `shorten_link(token, url)` - Трансформирует ссылку в сокращённую `bit.ly` ссылку.
* Функция `count_clicks(token, short_url)` Подсчитывает количество переходов по сокращённой `bit.ly` ссылке.